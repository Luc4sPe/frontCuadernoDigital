


<div class="container">
    
    <div class="row ">
		<div class="col-md-12 mt-2">

              <div class="container d-flex justify-content-center ">  
                
                     <div class="card-header">  
                            <h3 class="text-center">Formulario</h3>

                              <!-- <img src="assets/imagen/nuevo.png" class="card-img-top" alt="...">   -->

                            <div class="row" > 

                                <div class="col-md-7">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card shadow mb-lg-4">
                                                <div class="card-header bg-primary text-white">
                                                    <i class="bi bi-card-text me-1"></i>
                                                    Nuevo Usuario 
                                                </div>


        
                                                <div class="card-body">
        
                                                    <form #formUsuario = ngForm (ngSubmit)= "registrarUsuario(formUsuario)" novalidate> 
        
                                                                 <!--group apellido -->
                                                        <div class="form-group">
                                                            <label for="form-label">Apellido</label> 
                                                            <input type="text" class="form-control mt-2" name ="apellido"id="apellido" placeholder="Apellido" 
                                                            [(ngModel)]="apellido" #ape = "ngModel" pattern="^[a-zA-Z-ÿ\u00f1\u00d1\u00E0-\u00FC ]{2,254}" required>  
                                                             <i class="fa fa-check check-ok"></i>
                                                            
                                                            <div class="alert-danger rounded mt-2" *ngIf="ape.invalid && (ape.dirty || ape.touched)">
                                                                <div *ngIf="ape.errors?.required">
                                                                    <i class="ms-1 bi-x-circle-fill"></i>
                                                                    El Apellido es requerido
                                                                </div>
                                                                <div *ngIf="ape.errors?.pattern">
                                                                    <i class="ms-1 bi-x-circle-fill"></i>
                                                                        Solo se permiten letras
                                                                </div>
                                                            </div>
                                                           
                                                            
                                                        </div>
        
        
                                                        
                                                                 <!--group nombre -->
                                                                 <div class="form-group">
                                                                    <label for="form-label">Nombre</label>
                                                                    <input type="text" class="form-control mt-2" name ="nombre"id="nombre" placeholder="Nombre" 
                                                                    [(ngModel)]="nombre" #nom = "ngModel" pattern="^[a-zA-Z-ÿ\u00f1\u00d1\u00E0-\u00FC ]{2,254}" required>
                                                                    <i class="fa fa-check check-ok"></i>
                                                                    <div class="alert-danger rounded mt-2" *ngIf="nom.invalid && (nom.dirty || nom.touched)">
                                                                        <div *ngIf="nom.errors?.required">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            El Nombre es requerido
                                                                        </div>
                                                                        <div *ngIf="nom.errors?.pattern">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                                Solo se permiten letras
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                                 <!--group Documento -->
                                                                 <div class="form-group">
                                                                    <label for="form-label">DNI</label>
                                                                    <input type="text" class="form-control mt-2" name ="dni"id="dni" placeholder="DNI" 
                                                                    [(ngModel)]="dni" #docu = "ngModel" pattern="^[0-9 .]{2,15}" required>
                                                                    <i class="fa fa-check check-ok"></i>
                                                                    <div class="alert-danger rounded mt-2" *ngIf="docu.invalid && (docu.dirty || docu.touched)">
                                                                        <div *ngIf="docu.errors?.required">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            El DNI es requerido
                                                                        </div>
                                                                         <div *ngIf="docu.errors?.pattern">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                                Solo se permiten numeros
                                                                        </div> 
                                                                    </div>
                                                                </div>



                                                                 <!--group Nombre de Usuario -->
                                                                 <div class="form-group">
                                                                    <label for="form-label">Nombre de Usuario</label>
                                                                    <input type="text" class="form-control mt-2" name ="nombreUsuario"id="nombreUsuario" placeholder="Nombre de Usuario" 
                                                                    [(ngModel)]="nombreUsuario" #NomUs = "ngModel" pattern="^[a-zA-Z-ÿ\u00f1\u00d1\u00E0-\u00FC ]{2,254}" required>
                                                                    <i class="fa fa-check check-ok"></i>
                                                                    <div class="alert-danger rounded mt-2" *ngIf="NomUs.invalid && (NomUs.dirty || NomUs.touched)">
                                                                        <div *ngIf="NomUs.errors?.required">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            El Nombre de Usuario es requerido
                                                                        </div>
                                                                        <div *ngIf="NomUs.errors?.pattern">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                                Solo se permiten letras
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                                 <!--group Nombre de Email -->
                                                                 <div class="form-group">
                                                                    <label for="form-label">Email</label>
                                                                    <input type="email" class="form-control mt-2" name ="email"id="email" placeholder="email" 
                                                                    [(ngModel)]="email" #corre = "ngModel" pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" required email>
                                                                    <i class="fa fa-check check-ok"></i>
                                                                    <div class="alert-danger rounded mt-2" *ngIf="corre.invalid && (corre.dirty || corre.touched)">
                                                                        <div *ngIf="NomUs.errors?.required">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            El Email es requerido
                                                                        </div>
                                                                        <div *ngIf="corre.errors?.email">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            Ingrese una direccion de Email Valida: ejemplo@ejemplo.com
                                                                        </div>
                                                                    </div>
                                                                </div>




                                                                    <!--group password-->
                                                                <div class="form-group mt-2">
                                                                    <label for="form-label">Password</label>
                                                                    <input type="password" class="form-control mt-2" name ="password"id="password"  placeholder="password" 
                                                                    [(ngModel)]="password" #pass = "ngModel" required minlength="8">
                                                                   <i class="fa fa-check check-ok"></i>
                                                                    <div class="alert-danger rounded mt-2" *ngIf="pass.invalid && (pass.dirty || pass.touched)">
                                                                        <div *ngIf="pass.errors?.required">
                                                                        <i class="ms-1 bi-x-circle-fill"></i>
                                                                            El password es requerido
                                                                        </div>
                                                                        <div *ngIf="pass.errors?.minlength">
                                                                            <i class="ms-1 bi-x-circle-fill"></i>
                                                                            Debe tener un minimo de 8 caracteres
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                

                                                                    <div class="card-footer text-center mt-3">
                                                                        <button class="btn btn-outline-success btn-block" [disabled]="!formUsuario.valid" style="margin-left: 10px"  ><i class="far fa-save"></i> Guardar</button>
                                                                        <button routerLink="/list" class="btn btn-outline-info" style="margin-left: 10px"><i class="fas fa-undo-alt"></i> Volver</button>
                                                                      
                                                            
                                                                    </div>
                                                                
                                                               
                                                        
                                                        
                                                    </form>

                                                    
        
        
                                                </div>
                                            </div>
                                        </div>
                                    </div>




                                </div>


                                <div class="col-md-5 ">
                                    <div class="row ">
                                        <div class="col-12">
                                            <div class="card shadow">
                                                <div class="card-header bg-info text-white"> 
                                                    <i class="bi bi-toggle-on me-1"></i>
                                                    Roles </div>
                                                <div class="card-body">
                                                    <!-- roles -->
                                                <!-- group roles-->
                                                <div class="form-group mt-2">
                                                    <div class="form-check form-switch mt-2" *ngFor="let rol of roles; let i = index; ">
                                                        <input class="form-check-input" type="checkbox" id={{roles[i].name}} [(ngModel)] = "roles[i].active" 
                                                         [disabled]="roles[i].name=='User'"> 
                                                        <label class="form-check-label fw-bold" for={{roles[i].name}} id={{roles[i].name}}>{{rol.name}}</label>
                                                        <p>{{rol.description}}</p>
                                                        
                                                    </div>
                                                    
                                                </div>
                                                <!-- fin roles-->
                                                </div>
                                            </div>
                            
                                        </div>
                                    </div>
                                    
                                </div>
        
                            </div>

                    </div>  

                

               
                
             </div>   
        </div>
    </div>  

        
       
   
    
</div>

        

       

    

        
        
            

        